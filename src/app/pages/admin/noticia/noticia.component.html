<!--FORM-->
<div class="form-container">
  <h2>Agregue una nueva noticia</h2>
  <form class="ticket-form" [formGroup]="formNotcia" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
    <div class="form-group">
      <label for="title">Titulo</label>
      <input type="text" formControlName="titulo" id="titulo" name="titulo" required>
    </div>
    <div class="form-group">
      <label for="description">Texto Corto</label>
      <textarea id="texto_corto" formControlName="texto_corto" name="texto_corto" rows="3"></textarea>
    </div>
    <div class="form-group">
      <label for="description">Texto largo</label>
      <textarea id="texto_largo" formControlName="texto_largo" name="texto_largo" rows="5"></textarea>
    </div>

    <div class="form-group">
      <label for="pdf">Link</label>
      <input type="url" formControlName="link" id="link" name="link" required placeholder="Ingrese la URL">
    </div>

    <div class="form-group">
      <label for="ficha">IMG</label>
      <input type="file" formControlName="img" id="img" name="img" required accept="image/*">
    </div>
    <button type="submit" class="submit-button" cdkFocusInitial type="submit" [disabled]="!formNotcia.valid">Agregar Noticia</button>
  </form>
</div>
<br>

<table class="task-table">
  <thead>
    <tr>
      <th>ID</th>
      <th>Titulo</th>
      <th>Texto corto</th>
      <th>Texto largo</th>
      <th>Link</th>
      <th>Img</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    <!-- Ejemplo de bucle @for en Angular -->
    @for (noticias of noticia; track $index) {
      <tr>
        <td>
          <div class="title">{{ noticias.id }}</div>
        </td>
        <td>
          <div class="subtitle">{{ noticias.titulo }}</div>
        </td>
        <td>
          <div class="subtitle">{{ noticias.texto_corto }}</div>
        </td>
        <td>
          <div class="subtitle">{{ noticias.texto_largo }}</div>
        </td>
        <td>
          <div class="subtitle">{{ noticias.link }}</div>
        </td>
        <td>
          <img src="http://localhost:3000{{noticias.img}}" alt="Imagen de {{noticias.titulo}}" class="small-img">
        </td>
        <td class="action-icons">
          <i class="fas fa-edit" (click)="openDialogEdit(noticias)"></i>
          <i class="fas fa-trash" (click)="deleteNoticia(noticias.id)"></i>
        </td>
      </tr>
    }
  </tbody>
</table>
